\title{Multislice Diffraction Functions}

\author{Erik Bigwood}

\date{7/23/17}

\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{csvsimple}
\usepackage{tabularx}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{tikz}
\usepackage{gensymb}
\usepackage{hyperref}
\pgfplotsset{compat=1.5}
\usepackage{multicol}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{hyperref}
\usepackage{listings}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=blue,
}
 
\urlstyle{same}

\graphicspath{Images/}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\begin{document}
	\maketitle
	\tableofcontents
	\newpage
	\pagenumbering{Roman}
	\section{Relativistic functions}
		\subsection{lambda\_from\_eV}
			This function takes an energy in eV and returns the 	relativistic electron wavelength. The equation is shown below:
			\begin{equation}
				\lambda = \sqrt{\frac{h^2c^2}{E^2-m_0^2 c^2}}
			\end{equation}
		\subsection{mass\_from\_eV}
			Returns relativistic electron mass from kinetic energy in eV.
				\begin{equation}
					m = \sqrt{\frac{K^2+2Km_0c^2}{c^4}+m_0^2}
				\end{equation}
	\section{Geometric functions}
		\subsection{rotate\_vec\_array}
			Iterates over each vector in the n x 3 array $\Lambda$ and rotates them around $\hat{x}$, $\hat{y}$, then $\hat{z}$ by $tx$, $t$y, and $tz$ (rad) respectively.
			That is, 
			\begin{equation}
				\Bigg(\forall v\in \Lambda\Bigg)\Bigg(v\to R_z(\theta_z)\cdot R_y(\theta_y)\cdot R_x(\theta_x) \cdot v = \mathcal{R}v\Bigg)
			\end{equation}
	
		\paragraph{rotation\_mat}
			Returns a matrix corresponding to a rotation around $\hat{x}$, $\hat{y}$, then $\hat{z}$ by $tx$, $t$y, and $tz$ (rad) respectively.\footnote{See  \href{https://en.wikipedia.org/wiki/Rotation\_matrix}{rotation matrices}.}
				
			That is,
				\begin{equation}
					\mathcal{R}=R_z(\theta_z)\cdot R_y(\theta_y)\cdot R_x(\theta_x)
				\end{equation}
			
			\subparagraph{rotation\_mat\_x}
				Returns the rotation matrix around $\hat{x}$ by $\theta_x$, $R_x(\theta_x)$.
				
			\subparagraph{rotation\_mat\_y}
				Returns the rotation matrix around $\hat{y}$ by $\theta_y$, $R_y(\theta_y)$.
			
			\subparagraph{rotation\_mat\_z}
				Returns the rotation matrix around $\hat{z}$ by $\theta_z$, $R_z(\theta_z)$.
				
				
				
	\section{Lattice functions}
		\subsection{lattice\_populate\_single}
			Creates and populates a simple cubic lattice with side number $n$, lattice parameter $clen$, and centered at $latt\_center$.
				\begin{gather}
					\Bigg(  \forall	a_i,i \in [0,n]_{\mathbb{Z}},[0,2]_{\mathbb{Z}}\Bigg) \Bigg( \vec{l}_{a_0 n^2 +a_1 n + a_2} = clen \big< a_0-n/2, a_1-n/2,a_2-n/2 \big>  \Bigg)
				\end{gather}
		
		\subsection{lattice\_populate\_fcc}
			Creates, populates, and prunes a spherical nanoparticle with radius $r$,  lattice parameter $c$, and centered at $latt\_center$. There is an internal overestimation parameter $f$, to ensure full population, currently set at 2.
				\begin{gather*}
					n = \text{int}\bigg(\text{floor} (2rf) \bigg)			\\
					\Bigg(  \forall	a_i,i \in [-n/2,n/2]_{\mathbb{Z}},[0,2]_{\mathbb{Z}}\Bigg) \Bigg( \vec{l}_{a_0 n^2 +a_1 n + a_2} = c  \big( (a_0)\vec{v}_0 + (a_1)\vec{v}_1 + (a_2)\vec{v}_2 \big) \Bigg)
				\end{gather*}
			Where $\vec{v}_i$ are the primitive vectors for a fcc lattice
				\begin{gather*}
					\vec{v}_0= \big<0,0.5,0.5\big>		\\
					\vec{v}_1= \big<0.5,0,0.5\big>		\\
					\vec{v}_2= \big<0.5,0.5,0\big>		\\
				\end{gather*}
			
			Then, mark vectors outside the radius:
				\begin{equation}
					\Bigg(  \forall \vec{v} \in \vec{l}  \Bigg)  \Bigg(  || \vec{v}-latt\_center ||>r^2  \implies \vec{v}\to \big<0,0,0\big> \Bigg)  
				\end{equation}
			Now remove all zero vectors from $\vec{l}$ to prune the nanoparticle.
			
				










\end{document}